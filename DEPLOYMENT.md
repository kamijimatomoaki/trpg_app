# ğŸš€ AI TRPG Agent ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€AI TRPG Agentã‚’Google Cloud Platformï¼ˆGCPï¼‰ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«
- Google Cloud SDK (`gcloud`)
- Docker
- Node.js 18+
- Firebase CLI

### GCPã‚µãƒ¼ãƒ“ã‚¹
- Cloud Run (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)
- Firebase Hosting (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
- Firestore (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)
- Cloud Storage (ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜)
- Vertex AI (Gemini & Veo)

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Firebase Hosting  â”‚â”€â”€â”€â”€â”‚   Cloud Run      â”‚â”€â”€â”€â”€â”‚  Vertex AI      â”‚
â”‚   (Frontend/CDN)    â”‚    â”‚   (Backend API)  â”‚    â”‚  (Gemini/Veo)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚                        
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚                        
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             
                           â”‚   Firestore        â”‚             
                           â”‚   (Database)       â”‚             
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             
```

## ğŸš€ æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Cloud Run)

```bash
cd backend

# Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
docker build -t gcr.io/PROJECT_ID/trpg-backend .

# Container Registryã«ãƒ—ãƒƒã‚·ãƒ¥
docker push gcr.io/PROJECT_ID/trpg-backend

# Cloud Runã«ãƒ‡ãƒ—ãƒ­ã‚¤
gcloud run deploy trpg-backend \
    --image gcr.io/PROJECT_ID/trpg-backend \
    --platform managed \
    --region us-central1 \
    --allow-unauthenticated \
    --memory 2Gi \
    --cpu 1 \
    --timeout 3600 \
    --max-instances 10
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Firebase Hosting)

```bash
cd frontend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# Firebase Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤
firebase deploy --only hosting
```

## ğŸ“ å¿…è¦ãªè¨­å®š

### ç’°å¢ƒå¤‰æ•°è¨­å®š
- PROJECT_ID: Google Cloudãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID
- LOCATION: us-central1
- FIREBASE_ADMIN_KEY_PATH: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®ãƒ‘ã‚¹

### API URLè¨­å®š
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®`src/services/api.ts`ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰URLã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

---

è©³ç´°ãªæ‰‹é †ã¯å„ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚